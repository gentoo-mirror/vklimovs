diff --git a/CMakeLists.txt b/CMakeLists.txt
index f03aa29ce..7b55b3ef1 100644
--- a/CMakeLists.txt
+++ b/CMakeLists.txt
@@ -387,20 +387,26 @@ install(DIRECTORY ${CMAKE_CURRENT_SOURCE_DIR}/auxil/rapidjson/include/rapidjson
 # Optional Dependencies

 set(USE_GEOIP false)
-find_package(LibMMDB)
-if (LIBMMDB_FOUND)
-    set(USE_GEOIP true)
-    include_directories(BEFORE ${LibMMDB_INCLUDE_DIR})
-    list(APPEND OPTLIBS ${LibMMDB_LIBRARY})
+
+if ( ENABLE_MMDB )
+  find_package(LibMMDB)
+    if (LIBMMDB_FOUND)
+      set(USE_GEOIP true)
+      include_directories(BEFORE ${LibMMDB_INCLUDE_DIR})
+      list(APPEND OPTLIBS ${LibMMDB_LIBRARY})
+    endif ()
 endif ()

 set(USE_KRB5 false)
-if ( ${CMAKE_SYSTEM_NAME} MATCHES Linux )
-  find_package(LibKrb5)
-  if (LIBKRB5_FOUND)
-     set(USE_KRB5 true)
-     include_directories(BEFORE ${LibKrb5_INCLUDE_DIR})
-     list(APPEND OPTLIBS ${LibKrb5_LIBRARY})
+
+if (ENABLE_KRB5 )
+  if ( ${CMAKE_SYSTEM_NAME} MATCHES Linux )
+    find_package(LibKrb5)
+    if (LIBKRB5_FOUND)
+      set(USE_KRB5 true)
+      include_directories(BEFORE ${LibKrb5_INCLUDE_DIR})
+      list(APPEND OPTLIBS ${LibKrb5_LIBRARY})
+    endif ()
   endif ()
 endif ()

@@ -438,13 +444,6 @@ include_directories(BEFORE ${OPENSSL_INCLUDE_DIR})
 # Make everyone find the highwayhash includes
 include_directories(BEFORE ${CMAKE_CURRENT_SOURCE_DIR}/auxil/highwayhash)

-# Determine if libfts is external to libc, i.e. musl
-find_package(FTS)
-if ( FTS_FOUND )
-    list(APPEND OPTLIBS ${FTS_LIBRARY})
-    include_directories(BEFORE ${FTS_INCLUDE_DIR})
-endif ()
-
 set(zeekdeps ${zeekdeps}
     ${BinPAC_LIBRARY}
     ${PCAP_LIBRARY}
